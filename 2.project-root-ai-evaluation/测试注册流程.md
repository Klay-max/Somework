# 测试注册流程

## 问题诊断

当前遇到 **HTTP 400 Bad Request** 错误。可能的原因：

1. 请求格式不正确
2. 验证码未先发送
3. 字段验证失败

## 解决方案

### 在Android应用中正确的注册流程：

1. **输入手机号**（11位，以1开头）
2. **点击"发送验证码"按钮** ⚠️ 这一步很重要！
3. **输入收到的验证码**（Mock模式下任意6位数字都可以）
4. **输入密码**（至少6位）
5. **点击"注册"按钮**

## 测试步骤

### 步骤1：在Android模拟器中测试

1. 打开注册界面
2. 输入手机号：`13800138000`
3. **点击"发送验证码"按钮** ← 必须先做这一步！
4. 等待提示"验证码已发送"
5. 输入验证码：`123456`（任意6位数字）
6. 输入密码：`password123`
7. 点击"注册"

### 步骤2：检查后端日志

如果还是失败，查看后端日志：
```cmd
docker logs exam_assessment_backend_mock --tail 50
```

## 常见问题

### Q: 为什么必须先发送验证码？
A: 后端会验证验证码是否有效。即使在Mock模式下，也需要先调用发送验证码接口来生成验证码记录。

### Q: Mock模式下验证码是什么？
A: Mock模式下，任意6位数字都可以作为验证码，但必须先点击"发送验证码"按钮。

### Q: 如何查看详细错误？
A: 在Android Studio的Logcat中查看网络请求的详细信息。

## 后端API端点

- **发送验证码：** `POST /api/v1/auth/send-code`
- **注册：** `POST /api/v1/auth/register`
- **登录：** `POST /api/v1/auth/login`

## 下一步

如果按照正确流程操作后仍然失败，请提供：
1. Android Logcat的错误日志
2. 后端Docker日志
3. 具体的操作步骤

这样我可以更准确地定位问题。

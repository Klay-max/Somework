# 🚀 AI试卷测评系统 - 快速参考卡片

## 📱 当前状态

```
后端开发：    ████████████████████ 100%
Android开发： ████████████████▒▒▒▒  95%
部署准备：    ████████████████████ 100%

⚠️ 当前问题：Android应用崩溃（需要日志诊断）
```

## 🎯 立即行动

### 1️⃣ 启动后端服务

```cmd
start-mock.bat
```

### 2️⃣ 运行诊断工具

```cmd
诊断工具.bat
```

### 3️⃣ 收集崩溃日志

```cmd
收集Android日志.bat
```

### 4️⃣ 把日志发给我

复制日志文件内容，我会帮你修复！

## 🔑 关键信息

### Mock模式测试账号
```
手机号：任意11位（以1开头）
验证码：123456（固定）
密码：  任意（至少6位）
```

### API地址
```
电脑访问：  http://localhost:8000
模拟器访问：http://10.0.2.2:8000
真机访问：  http://你的电脑IP:8000
```

### 生产环境API密钥
```
阿里云OCR：已配置 ✅
DeepSeek：  已配置 ✅
```

## 🛠️ 常用命令

### 后端服务

```cmd
# 启动Mock模式
start-mock.bat

# 启动生产模式
start-production.bat

# 查看日志
docker-compose -f docker-compose.mock.yml logs -f backend

# 停止服务
docker-compose -f docker-compose.mock.yml down
```

### 测试API

```cmd
# 测试健康检查
curl http://localhost:8000/health

# 测试注册
test-register-api.bat

# 测试Mock API
test-mock-api.bat
```

### Android调试

```cmd
# 查看连接的设备
adb devices

# 查看实时日志
adb logcat

# 清除应用数据
adb shell pm clear com.examai

# 卸载应用
adb uninstall com.examai
```

## 📊 项目结构

```
project-root/
├── backend/              # 后端代码
│   ├── app/
│   │   ├── api/         # API路由
│   │   ├── services/    # 业务逻辑
│   │   ├── models/      # 数据模型
│   │   └── schemas/     # API模式
│   └── Dockerfile
├── android/             # Android应用
│   └── app/
│       └── src/
│           └── main/
│               └── java/com/examai/
├── .env.production      # 生产环境配置
├── .env.mock           # Mock环境配置
└── docker-compose.*.yml # Docker配置
```

## 🐛 故障排查

### 问题：后端无法启动

**检查**：
1. Docker Desktop是否运行？
2. 端口8000是否被占用？
3. 配置文件是否正确？

**解决**：
```cmd
# 停止所有容器
docker-compose -f docker-compose.mock.yml down

# 重新启动
start-mock.bat
```

### 问题：Android无法连接后端

**检查**：
1. 后端服务是否运行？
2. API地址是否正确？（模拟器用10.0.2.2）
3. 防火墙是否阻止？

**解决**：
```cmd
# 测试连接
curl http://localhost:8000/health

# 如果失败，检查防火墙
# Windows防火墙 → 允许应用 → Docker Desktop
```

### 问题：Android应用崩溃

**检查**：
1. 是否授予了所有权限？
2. Logcat中的错误信息是什么？

**解决**：
```cmd
# 收集日志
收集Android日志.bat

# 把日志发给我分析
```

## 📚 详细文档

| 文档 | 用途 |
|------|------|
| `项目当前状态和下一步行动.md` | 项目总览 |
| `Android应用崩溃排查.md` | 崩溃诊断 |
| `MOCK_TESTING_GUIDE.md` | Mock测试指南 |
| `PRODUCTION_DEPLOYMENT_GUIDE.md` | 生产部署 |
| `下一步部署计划.md` | 部署路线图 |
| `Android应用发布难点和解决方案.md` | 发布指南 |

## 🎓 学习资源

### Android开发
- [Android官方文档](https://developer.android.com/)
- [Jetpack Compose](https://developer.android.com/jetpack/compose)
- [Kotlin协程](https://kotlinlang.org/docs/coroutines-overview.html)

### 后端开发
- [FastAPI文档](https://fastapi.tiangolo.com/)
- [Docker文档](https://docs.docker.com/)
- [PostgreSQL文档](https://www.postgresql.org/docs/)

### 云服务
- [阿里云OCR](https://help.aliyun.com/product/442322.html)
- [DeepSeek API](https://platform.deepseek.com/docs)

## 💬 需要帮助？

### 当前最紧急的任务

1. **运行诊断工具**：`诊断工具.bat`
2. **收集崩溃日志**：`收集Android日志.bat`
3. **把日志发给我**：我会立即帮你修复！

### 常见问题

**Q: Mock模式的验证码是什么？**
A: 固定是 `123456`

**Q: 如何切换到生产模式？**
A: 运行 `start-production.bat`

**Q: 如何查看后端日志？**
A: `docker-compose -f docker-compose.mock.yml logs -f backend`

**Q: Android应用一直崩溃怎么办？**
A: 运行 `收集Android日志.bat`，把日志发给我

---

**记住**：遇到任何问题，先运行 `诊断工具.bat`！

# Android平板应用运行指南 📱

## ✅ 已完成的工作

### 1. 后端服务配置完成
- ✅ 阿里云OCR已集成并配置
- ✅ DeepSeek AI已配置
- ✅ 生产环境服务正在运行（http://localhost:8000）
- ✅ 所有API端点正常工作

### 2. Android编译错误已全部修复
- ✅ Hilt Gradle插件已添加
- ✅ Material3实验性API注解已正确添加
- ✅ WorkRequest常量引用已修复
- ✅ 代码可以正常编译

## 🚀 如何在平板上查看应用

### 方法一：使用Android Studio（推荐）

1. **打开Android Studio**
   - 启动Android Studio
   - 选择 "Open" 打开项目
   - 导航到项目的 `android` 文件夹并打开

2. **等待Gradle同步**
   - Android Studio会自动同步Gradle
   - 等待同步完成（可能需要几分钟）

3. **创建平板模拟器**
   - 点击工具栏的 "Device Manager" 图标
   - 点击 "Create Device"
   - 选择 "Tablet" 类别
   - 推荐选择：
     - Pixel Tablet (10.95寸)
     - Nexus 9 (8.9寸)
     - 或任何10寸以上的平板
   - 选择系统镜像（推荐 Android 13 或更高）
   - 完成创建

4. **配置API地址**
   - 打开文件：`android/app/src/main/res/values/strings.xml`
   - 找到 `api_base_url`
   - 对于模拟器，使用：`http://10.0.2.2:8000/`
   - 对于真实设备，使用：`http://[你的电脑IP]:8000/`

5. **运行应用**
   - 选择刚创建的平板模拟器
   - 点击绿色的 "Run" 按钮（或按 Shift+F10）
   - 等待应用安装并启动

### 方法二：使用真实平板设备

1. **启用开发者选项**
   - 在平板上打开 "设置" > "关于平板电脑"
   - 连续点击 "版本号" 7次
   - 返回设置，找到 "开发者选项"
   - 启用 "USB调试"

2. **连接平板**
   - 用USB线连接平板到电脑
   - 在平板上允许USB调试授权

3. **配置API地址**
   - 获取电脑IP：运行 `ipconfig`（Windows）
   - 在 `strings.xml` 中设置：`http://[你的电脑IP]:8000/`

4. **在Android Studio中运行**
   - 在设备列表中选择你的平板
   - 点击 "Run" 按钮

## 📱 应用功能预览

应用启动后，你将看到：

1. **登录/注册界面**
   - 手机号登录
   - 验证码注册

2. **主界面**
   - 拍摄试卷（实时指导）
   - 快速拍照
   - 历史记录

3. **拍照界面**
   - 实时预览
   - 拍照指导
   - 图像质量检测

4. **上传界面**
   - 上传进度显示
   - 处理状态实时更新

5. **结果界面**
   - AI评分结果
   - 详细分析
   - 历史记录查看

## 🔧 故障排除

### 如果编译失败
1. 清理项目：`Build` > `Clean Project`
2. 重新构建：`Build` > `Rebuild Project`
3. 同步Gradle：`File` > `Sync Project with Gradle Files`

### 如果无法连接后端
1. 确认后端服务正在运行：访问 http://localhost:8000/health
2. 检查防火墙设置
3. 对于真实设备，确保电脑和平板在同一WiFi网络

### 如果模拟器启动慢
1. 在AVD Manager中增加模拟器的RAM
2. 启用硬件加速（HAXM或Hyper-V）
3. 使用较新的系统镜像

## 📝 测试账号

你可以注册新账号，或使用以下测试流程：
1. 点击"注册"
2. 输入手机号（任意11位数字）
3. 获取验证码（Mock模式下会自动通过）
4. 设置密码并注册
5. 登录后即可使用所有功能

## 🎯 下一步

应用运行成功后，你可以：
1. 测试拍照功能
2. 上传试卷图片
3. 查看AI评分结果
4. 浏览历史记录
5. 体验完整的用户流程

祝你体验愉快！🎉

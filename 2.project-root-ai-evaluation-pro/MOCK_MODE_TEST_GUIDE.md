# Mock 模式完整测试指南

## 📋 测试目标

验证"安辅导"应用在 Mock 模式下的完整用户流程，确保所有功能正常工作。

---

## 🚀 准备工作

### 1. 确认 Mock 模式已启用

Mock 模式默认已启用，可以在 `lib/MockApiService.ts` 中确认：

```typescript
export const MOCK_CONFIG = {
  enabled: true, // ✅ 已启用
  // ...
};
```

### 2. 启动开发服务器

应用应该已经在运行。如果没有，执行：

```bash
npm run web
```

访问：http://localhost:8081

---

## 🧪 测试流程

### 测试 1: 首页仪表盘

**目标**: 验证首页正确显示

**步骤**:
1. 打开浏览器访问 http://localhost:8081
2. 检查页面元素

**预期结果**:
- ✅ 页面背景为纯黑色 (#000000)
- ✅ 顶部显示 "SYSTEM ONLINE" 文本（青色）
- ✅ 绿色呼吸灯动画正常
- ✅ 中央显示主按钮 "开始AI诊断" / "START AI DIAGNOSIS"
- ✅ 按钮有青色发光效果
- ✅ 底部显示数据面板（近期准确率等）
- ✅ 整体赛博朋克风格正确

**截图位置**: 保存为 `screenshots/01-homepage.png`

---

### 测试 2: 导航到扫描页面

**目标**: 验证导航功能

**步骤**:
1. 点击 "开始AI诊断" 按钮
2. 观察页面跳转

**预期结果**:
- ✅ 页面跳转到扫描终端 (/camera)
- ✅ 顶部显示 "扫描终端" / "SCANNER TERMINAL"
- ✅ 显示 "← 返回" 按钮
- ✅ 显示文件上传区域（虚线边框）
- ✅ 显示 "开始扫描" 按钮

**截图位置**: 保存为 `screenshots/02-scanner.png`

---

### 测试 3: 文件上传

**目标**: 验证文件选择功能

**步骤**:
1. 点击文件上传区域
2. 选择任意图片文件（答题卡图片或任意图片都可以）
3. 观察界面变化

**预期结果**:
- ✅ 文件选择对话框打开
- ✅ 选择文件后，上传区域显示文件名
- ✅ "开始扫描" 按钮可点击

**截图位置**: 保存为 `screenshots/03-file-selected.png`

---

### 测试 4: 扫描流程 - OCR 识别

**目标**: 验证 Mock OCR 识别

**步骤**:
1. 点击 "开始扫描" 按钮
2. 观察进度显示

**预期结果**:
- ✅ 显示扫描动画覆盖层（青色半透明背景）
- ✅ 显示 "正在分析..." 文本
- ✅ 显示进度文本 "正在压缩图像..."
- ✅ 进度条显示 10%
- ✅ 约 1-2 秒后进度更新为 "正在识别答题卡..."
- ✅ 进度条显示 25%

**Mock 数据**:
- OCR 延迟: 1.5 秒
- 返回 50 道题的答案（A/B/C/D）

**截图位置**: 保存为 `screenshots/04-ocr-progress.png`

---

### 测试 5: 扫描流程 - 答案提取和评分

**目标**: 验证本地答案处理

**步骤**:
1. 继续观察进度
2. 等待答案提取和评分完成

**预期结果**:
- ✅ 进度更新为 "正在提取答案..."（45%）
- ✅ 进度更新为 "正在评分..."（55%）
- ✅ 本地处理，速度很快（< 1 秒）

**截图位置**: 保存为 `screenshots/05-grading-progress.png`

---

### 测试 6: 扫描流程 - AI 错误分析

**目标**: 验证 Mock AI 分析

**步骤**:
1. 继续观察进度
2. 等待 AI 分析完成

**预期结果**:
- ✅ 进度更新为 "正在分析错题..."（70%）
- ✅ 约 2 秒延迟（Mock 配置）
- ✅ 根据错题数量生成不同的分析结果

**Mock 数据**:
- 分析延迟: 2 秒
- 返回表层病灶、深层病根、AI 点评、知识盲区

**截图位置**: 保存为 `screenshots/06-analysis-progress.png`

---

### 测试 7: 扫描流程 - 学习路径生成

**目标**: 验证 Mock 学习路径

**步骤**:
1. 继续观察进度
2. 等待学习路径生成完成

**预期结果**:
- ✅ 进度更新为 "正在生成学习路径..."（85%）
- ✅ 约 1.5 秒延迟（Mock 配置）
- ✅ 返回 3 个学习阶段

**Mock 数据**:
- 路径延迟: 1.5 秒
- 返回基础修复、强化训练、冲刺提升三个阶段

**截图位置**: 保存为 `screenshots/07-path-progress.png`

---

### 测试 8: 扫描流程 - 报告生成

**目标**: 验证报告数据准备

**步骤**:
1. 继续观察进度
2. 等待报告生成完成

**预期结果**:
- ✅ 进度更新为 "正在生成报告..."（95%）
- ✅ 进度达到 100%
- ✅ 自动跳转到报告页面

**截图位置**: 保存为 `screenshots/08-report-generation.png`

---

### 测试 9: 报告页面 - 计分板

**目标**: 验证计分板显示

**步骤**:
1. 观察报告页面顶部
2. 检查计分板内容

**预期结果**:
- ✅ 显示环形进度条（青色）
- ✅ 显示总分和正确率
- ✅ 显示 3 个对比进度条：
  - 全国平均分（灰色）
  - 本省平均分（灰色）
  - 本市平均分（灰色）
  - 你的分数（青色高亮）

**截图位置**: 保存为 `screenshots/09-score-core.png`

---

### 测试 10: 报告页面 - 能力雷达图

**目标**: 验证雷达图显示

**步骤**:
1. 向下滚动到雷达图区域
2. 检查雷达图内容

**预期结果**:
- ✅ 显示五维雷达图
- ✅ 包含五个维度：听力、语法、阅读、完形、逻辑
- ✅ 半透明青色填充
- ✅ 高亮青色边框
- ✅ 深灰色网格线
- ✅ 加载时有动画效果

**截图位置**: 保存为 `screenshots/10-ability-radar.png`

---

### 测试 11: 报告页面 - 深度分析

**目标**: 验证错误分析显示

**步骤**:
1. 向下滚动到深度分析区域
2. 检查分析内容

**预期结果**:
- ✅ 显示表层病灶（Tag 标签样式，青色边框）
- ✅ 显示深层病根（红色警告框）
- ✅ 显示 AI 点评文本
- ✅ AI 点评有打字机效果（逐字显示）

**Mock 数据示例**:
- 表层病灶: "部分知识点掌握不牢"、"解题思路不够清晰"
- 深层病根: "基础知识有漏洞"、"缺乏系统训练"
- AI 点评: 根据错题数量生成的个性化建议

**截图位置**: 保存为 `screenshots/11-deep-analysis.png`

---

### 测试 12: 报告页面 - 知识点矩阵

**目标**: 验证知识点列表显示

**步骤**:
1. 向下滚动到知识点矩阵区域
2. 检查知识点列表
3. 点击一个知识点

**预期结果**:
- ✅ 显示知识点列表
- ✅ 每个知识点显示：
  - 名称
  - 难度星级（1-5 星）
  - 掌握状态指示灯（绿色/红色）
- ✅ 点击知识点展开详情
- ✅ 再次点击折叠详情

**Mock 数据示例**:
- 知识盲区: "虚拟语气"、"被动语态"、"定语从句"、"完形填空技巧"

**截图位置**: 保存为 `screenshots/12-knowledge-matrix.png`

---

### 测试 13: 报告页面 - 提分路径

**目标**: 验证学习路径显示

**步骤**:
1. 向下滚动到提分路径区域
2. 检查学习路径内容
3. 点击一个阶段

**预期结果**:
- ✅ 显示时间轴或技能树样式
- ✅ 显示 3 个学习阶段：
  - 基础修复（2 周）
  - 强化训练（3 周）
  - 冲刺提升（2 周）
- ✅ 每个阶段显示：
  - 标题
  - 学习内容列表
  - 视频链接
  - 预计完成时间
- ✅ 点击阶段展开详细内容

**截图位置**: 保存为 `screenshots/13-upgrade-path.png`

---

### 测试 14: 报告页面 - 分享功能

**目标**: 验证分享按钮

**步骤**:
1. 找到分享按钮（通常在页面顶部或底部）
2. 点击分享按钮

**预期结果**:
- ✅ Web 端：打开浏览器原生分享对话框
- ✅ 分享内容包含报告摘要信息
- ✅ 标题为 "安辅导 诊断报告"

**截图位置**: 保存为 `screenshots/14-share-dialog.png`

---

### 测试 15: 报告页面 - 页脚信息

**目标**: 验证品牌信息

**步骤**:
1. 滚动到页面底部
2. 检查页脚内容

**预期结果**:
- ✅ 显示报告生成时间
- ✅ 显示版权信息 "安辅导 © 2026"

**截图位置**: 保存为 `screenshots/15-footer.png`

---

### 测试 16: 历史记录功能

**目标**: 验证历史记录保存和查看

**步骤**:
1. 点击 "← 返回" 返回首页
2. 查找历史记录入口（如果有）
3. 或者再次扫描，生成第二份报告

**预期结果**:
- ✅ 报告数据保存到本地存储
- ✅ 可以查看历史报告列表
- ✅ 可以点击查看之前的报告

**注意**: 如果历史记录功能未实现，这是正常的（可选功能）

**截图位置**: 保存为 `screenshots/16-history.png`

---

### 测试 17: 响应式布局

**目标**: 验证不同屏幕尺寸下的显示

**步骤**:
1. 调整浏览器窗口大小
2. 测试以下尺寸：
   - 桌面（1920x1080）
   - 平板（768x1024）
   - 手机（375x667）

**预期结果**:
- ✅ 所有尺寸下布局正常
- ✅ 文字可读
- ✅ 按钮可点击
- ✅ 图表正确缩放

**截图位置**: 
- `screenshots/17-desktop.png`
- `screenshots/17-tablet.png`
- `screenshots/17-mobile.png`

---

### 测试 18: 错误处理

**目标**: 验证错误提示

**步骤**:
1. 在扫描页面，不选择文件直接点击 "开始扫描"
2. 观察错误提示

**预期结果**:
- ✅ 显示错误提示 "请先选择一个文件"
- ✅ 错误提示样式正确（红色边框）

**截图位置**: 保存为 `screenshots/18-error-handling.png`

---

### 测试 19: Mock 失败场景（可选）

**目标**: 验证 Mock 失败处理

**步骤**:
1. 修改 `lib/MockApiService.ts` 中的成功率：
   ```typescript
   successRate: 0.0, // 100% 失败
   ```
2. 重新扫描
3. 观察错误处理

**预期结果**:
- ✅ 显示错误提示
- ✅ 用户可以重试

**注意**: 测试完成后记得改回 `successRate: 0.95`

**截图位置**: 保存为 `screenshots/19-mock-failure.png`

---

### 测试 20: 性能测试

**目标**: 验证应用性能

**步骤**:
1. 打开浏览器开发者工具（F12）
2. 切换到 Performance 标签
3. 录制完整扫描流程
4. 分析性能数据

**预期结果**:
- ✅ 首页加载 < 3 秒
- ✅ 扫描流程总时长 < 10 秒（Mock 模式）
- ✅ 报告页面渲染 < 2 秒
- ✅ 无明显卡顿

**截图位置**: 保存为 `screenshots/20-performance.png`

---

## 📊 测试结果记录

### 测试通过标准

- [ ] 所有 20 个测试项目通过
- [ ] 无控制台错误
- [ ] 无 TypeScript 类型错误
- [ ] 用户体验流畅

### 发现的问题

记录测试过程中发现的任何问题：

1. **问题描述**: 
   - **严重程度**: 高/中/低
   - **复现步骤**: 
   - **预期行为**: 
   - **实际行为**: 
   - **截图**: 

---

## 🎯 测试完成后

### 如果所有测试通过 ✅

恭喜！应用在 Mock 模式下完全正常工作。你可以：

1. **提交代码**
   ```bash
   git add .
   git commit -m "品牌重命名完成，Mock 模式测试通过"
   git push
   ```

2. **更新部署**（如果需要）
   ```bash
   vercel --prod
   ```

3. **继续开发新功能**
   - 参考 `PHASE_2_ROADMAP.md`
   - 选择下一个功能开发

### 如果发现问题 ⚠️

1. **记录问题详情**
2. **创建 Issue 或 Bug 报告**
3. **优先修复高严重度问题**
4. **重新测试**

---

## 📝 测试检查清单

打印或复制此检查清单，逐项测试：

```
测试检查清单 - Mock 模式完整测试

□ 测试 1: 首页仪表盘显示正确
□ 测试 2: 导航到扫描页面成功
□ 测试 3: 文件上传功能正常
□ 测试 4: OCR 识别进度显示
□ 测试 5: 答案提取和评分正常
□ 测试 6: AI 错误分析正常
□ 测试 7: 学习路径生成正常
□ 测试 8: 报告生成和跳转正常
□ 测试 9: 计分板显示正确
□ 测试 10: 能力雷达图显示正确
□ 测试 11: 深度分析显示正确
□ 测试 12: 知识点矩阵显示正确
□ 测试 13: 提分路径显示正确
□ 测试 14: 分享功能正常
□ 测试 15: 页脚信息正确
□ 测试 16: 历史记录功能正常
□ 测试 17: 响应式布局正常
□ 测试 18: 错误处理正确
□ 测试 19: Mock 失败场景处理正确（可选）
□ 测试 20: 性能达标

总计: __/20 通过
```

---

## 🎉 测试完成

**测试日期**: ___________  
**测试人员**: ___________  
**测试结果**: 通过 / 部分通过 / 未通过  
**备注**: 

---

**祝测试顺利！** 🚀

如果遇到任何问题，请参考：
- [MOCK_MODE_GUIDE.md](./MOCK_MODE_GUIDE.md) - Mock 模式使用指南
- [DEVELOPMENT.md](./DEVELOPMENT.md) - 开发文档
- [BRANDING_UPDATE_COMPLETE.md](./BRANDING_UPDATE_COMPLETE.md) - 品牌更新总结

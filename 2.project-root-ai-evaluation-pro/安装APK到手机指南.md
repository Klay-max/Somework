# 安装 APK 到手机指南

## APK 信息

```
文件位置: android\app\build\outputs\apk\release\app-release.apk
文件大小: 89.7 MB
构建时间: 2026/1/23 13:45:46
状态: ✅ 已测试，功能正常
```

## 安装方法

### 方法 1：通过 USB 数据线传输（推荐）⭐

#### 步骤 1：连接手机到电脑
1. 使用 USB 数据线连接手机和电脑
2. 在手机上选择"文件传输"模式（不是"仅充电"）

#### 步骤 2：复制 APK 到手机
1. 打开"此电脑"或"我的电脑"
2. 找到你的手机设备
3. 打开手机存储
4. 将 APK 文件复制到手机的 `Download` 文件夹

**快速复制命令**：
```bash
# 在 PowerShell 中运行
Copy-Item "android\app\build\outputs\apk\release\app-release.apk" -Destination "你的手机盘符:\Download\"
```

#### 步骤 3：在手机上安装
1. 在手机上打开"文件管理器"应用
2. 进入 `Download` 文件夹
3. 找到 `app-release.apk` 文件
4. 点击文件开始安装
5. 如果提示"不允许安装未知来源的应用"：
   - 点击"设置"
   - 允许从该来源安装应用
   - 返回继续安装
6. 点击"安装"
7. 等待安装完成
8. 点击"打开"启动应用

---

### 方法 2：通过微信/QQ 传输

#### 步骤 1：发送 APK 到手机
1. 在电脑上打开微信或 QQ
2. 找到"文件传输助手"或"我的手机"
3. 发送 APK 文件：`android\app\build\outputs\apk\release\app-release.apk`

#### 步骤 2：在手机上接收并安装
1. 在手机上打开微信或 QQ
2. 找到发送的 APK 文件
3. 点击下载
4. 下载完成后点击"打开"
5. 按照提示安装（同方法 1 的步骤 3）

---

### 方法 3：通过云盘传输

#### 步骤 1：上传到云盘
1. 将 APK 上传到百度网盘、阿里云盘等
2. 或使用 OneDrive、Google Drive

#### 步骤 2：在手机上下载并安装
1. 在手机上打开云盘应用
2. 下载 APK 文件
3. 按照提示安装（同方法 1 的步骤 3）

---

### 方法 4：使用 ADB（需要安装 Android SDK）

如果你想使用 ADB，需要先安装：

#### 安装 ADB
1. **下载 Android SDK Platform Tools**
   - 访问：https://developer.android.com/studio/releases/platform-tools
   - 下载 Windows 版本
   - 解压到任意文件夹（如 `C:\platform-tools`）

2. **添加到系统路径**
   ```bash
   # 在 PowerShell 中运行（管理员权限）
   $env:Path += ";C:\platform-tools"
   setx PATH "$env:Path" /M
   ```

3. **启用手机的 USB 调试**
   - 打开手机"设置"
   - 进入"关于手机"
   - 连续点击"版本号" 7 次，启用开发者选项
   - 返回"设置"
   - 进入"开发者选项"
   - 启用"USB 调试"

4. **连接手机并安装**
   ```bash
   # 检查设备连接
   adb devices
   
   # 安装 APK
   adb install android\app\build\outputs\apk\release\app-release.apk
   ```

---

## 安装后的首次启动

### 1. 授予权限
应用首次启动时会请求以下权限：
- ✅ 相机权限（用于扫描答题卡）
- ✅ 存储权限（用于保存图片和报告）
- ✅ 网络权限（用于 OCR 和 AI 分析）

**请全部允许**，否则应用无法正常工作。

### 2. 检查功能
安装后请测试以下功能：
- [ ] 应用能正常启动
- [ ] 相机扫描功能正常
- [ ] 可以上传图片
- [ ] 可以查看历史记录
- [ ] 设置页面正常

### 3. 已知问题
- ❌ 没有 OTA 更新功能（需要重新构建 APK）
- ✅ 使用 Mock 数据（已修改为使用真实 API）
- ✅ 所有基础功能正常

---

## 常见问题

### Q1: 安装时提示"解析包时出现问题"
**原因**：APK 文件损坏或不完整

**解决方案**：
1. 重新复制 APK 文件到手机
2. 确保文件大小是 89.7 MB
3. 或重新构建 APK

### Q2: 安装时提示"不允许安装未知来源的应用"
**原因**：Android 安全设置

**解决方案**：
1. 点击"设置"
2. 允许从该来源安装应用
3. 返回继续安装

### Q3: 安装后无法打开
**原因**：可能是权限问题或兼容性问题

**解决方案**：
1. 检查 Android 版本（需要 Android 5.0+）
2. 清除应用数据后重试
3. 重新安装

### Q4: 相机无法使用
**原因**：没有授予相机权限

**解决方案**：
1. 打开手机"设置"
2. 进入"应用管理"
3. 找到"安辅导"
4. 进入"权限"
5. 允许"相机"权限

### Q5: 无法连接网络
**原因**：没有授予网络权限或 API 配置问题

**解决方案**：
1. 检查网络权限
2. 检查手机网络连接
3. 如果使用真实 API，确保 API 密钥配置正确

---

## 测试清单

安装后请按照以下清单测试：

### 基础功能
- [ ] 应用启动正常
- [ ] 界面显示正常
- [ ] 可以切换页面

### 相机功能
- [ ] 可以打开相机
- [ ] 可以拍照
- [ ] 照片显示正常

### 上传功能
- [ ] 可以选择图片
- [ ] 可以上传图片
- [ ] 上传进度显示正常

### 分析功能
- [ ] OCR 识别正常
- [ ] AI 分析正常
- [ ] 结果显示正常

### 历史记录
- [ ] 可以查看历史记录
- [ ] 可以删除记录
- [ ] 可以导出报告

### 设置功能
- [ ] 可以切换语言
- [ ] 可以查看版本信息
- [ ] 可以清除缓存

---

## 下一步

### 如果一切正常 ✅
1. 继续使用应用
2. 收集用户反馈
3. 记录需要改进的地方

### 如果遇到问题 ❌
1. 记录具体的错误信息
2. 截图保存
3. 告诉我问题详情，我会帮你解决

### 如果需要 OTA 更新功能 🔄
1. 等待 EAS Build 修复
2. 或重新本地构建包含 OTA 的版本
3. 然后重新安装

---

## 快速安装脚本

我已经创建了一个批处理脚本来简化安装过程：

### 使用 install-apk.bat（如果已安装 ADB）
```bash
.\install-apk.bat
```

### 手动安装（推荐）
1. 连接手机到电脑
2. 复制 APK 到手机
3. 在手机上点击安装

---

## 总结

**推荐方法**：通过 USB 数据线传输（方法 1）
- ✅ 最快速
- ✅ 最可靠
- ✅ 不需要额外软件

**安装后**：
1. 授予所有权限
2. 测试所有功能
3. 记录问题和反馈

**遇到问题**：
随时告诉我，我会帮你解决！🚀
